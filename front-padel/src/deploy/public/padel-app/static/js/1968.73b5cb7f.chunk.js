"use strict";(self.webpackChunkpadel_app=self.webpackChunkpadel_app||[]).push([[1968],{38719:(e,t,r)=>{r.d(t,{U:()=>h});var n,a=r(30168),s=r(47313),o=r(17592),i=r(19860),l=r(48119),c=r(20619),d=r(46417);const u=(0,o.ZP)("img")(n||(n=(0,a.Z)(["\n  width: ","px;\n  height: ","px;\n  ","\n  ","\n  ","\n  border-radius: 4px;\n"])),(e=>{let{width:t}=e;return t}),(e=>{let{height:t}=e;return t}),(e=>{let{hasBorder:t}=e;return!!t&&"padding: 8px;"}),(e=>{let{hasBorder:t}=e;return!!t&&"border: 1px solid #e0e0e0;"}),(e=>{let{hasBorder:t}=e;return!!t&&"box-shadow: 0 0 2px rgba(0, 0, 0, 0.1);"})),h=e=>{let{"data-testid":t,width:r=64,height:n=64,src:a,defaultSrc:o}=e;const[h,p]=(0,s.useState)(!1),m=(0,s.useCallback)((()=>p(!0)),[]),x=(0,i.Z)(),g=(0,s.useMemo)((()=>{if(!a||"None"===a||h)return(0,d.jsx)(c.Z,{color:"primary.main","data-testid":t,variant:"regular",children:o});const e=a.startsWith("http")?"".concat(a,"?").concat(Math.floor(Date.now())):a;return(0,d.jsx)(u,{"data-testid":t,height:n,onError:m,src:e,width:r})}),[a,h,t,n,m,r,o]);return(0,s.useEffect)((()=>{p(!1)}),[a]),(0,d.jsx)(l.Z,{"data-testid":t,sx:{height:n,width:r,backgroundColor:x.palette.background.primary},children:g})}},59141:(e,t,r)=>{r.d(t,{X:()=>i,n:()=>h});var n=r(70501),a=r(9506),s=r(20619),o=r(46417);const i=e=>{let{children:t,"data-testid":r,color:i,onClick:l,...c}=e;return(0,o.jsxs)(n.Z,{alignItems:"center",component:a.Z,"data-testid":r,display:"flex",gap:2,justifyContent:"space-between",p:2,...c,onClick:l,sx:{cursor:"pointer",overflow:"hidden"},children:[(0,o.jsx)(a.Z,{width:"100%",children:t}),(0,o.jsx)(a.Z,{alignItems:"center",display:"flex",justifyContent:"center",children:(0,o.jsx)(s.Z,{color:i,children:"chevron-right"})})]})};var l=r(47313),c=r(75192),d=r.n(c);const u=e=>{let{isDisabled:t,mouseHoverElevation:r=5}=e;const[n,a]=(0,l.useState)(1),[s,o]=(0,l.useState)("text.primary"),i=(0,l.useCallback)((()=>{a(r),o("primary")}),[r]),c=(0,l.useCallback)((()=>{a(1),o("text.primary")}),[]);return{color:s,paperButtonProps:{disabled:t,color:s,...!t&&{onMouseOut:c,onMouseOver:i},elevation:n}}};u.propTypes={isDisabled:d().bool,mouseHoverElevation:d().number};const h=u},65053:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(61113),a=r(19536),s=r(46417);const o=e=>{let{variant:t="h1",color:r="text.primary","data-testid":o="section-title",title:i,withDividerLine:l}=e;return(0,s.jsx)(s.Fragment,{children:l?(0,s.jsxs)(s.Fragment,{children:["object"===typeof i?i:(0,s.jsx)(n.Z,{color:r,"data-testid":"".concat(o,"-name"),mb:2,variant:t,children:i}),(0,s.jsx)(a.Z,{color:"gradient",sx:{mb:6}})]}):(0,s.jsx)(s.Fragment,{children:"object"===typeof i?i:(0,s.jsx)(n.Z,{color:r,"data-testid":"".concat(o,"-name"),mb:6,variant:t,children:i})})})}},16811:(e,t,r)=>{r.d(t,{Nv:()=>l,oZ:()=>c,rq:()=>i});var n=r(21858),a=r(38826),s=r(21895);const o=a.P.injectEndpoints({endpoints:e=>({customers:e.query({query:()=>"/customers/",providesTags:[s._.Customers]}),createCustomer:e.mutation({query:e=>({url:"".concat(n.yq,"/customers/"),method:"POST",formData:!0,headers:{[n.Vb]:n.xS},body:e}),invalidatesTags:[s._.Customers]}),updateCustomer:e.mutation({query:e=>{let{body:t,customerId:r}=e;return{url:"".concat(n.yq,"/customers/").concat(r,"/"),method:"PATCH",formData:!0,headers:{[n.Vb]:n.xS},body:t}},invalidatesTags:[s._.Customers]})})}),{useCustomersQuery:i,useCreateCustomerMutation:l,useUpdateCustomerMutation:c}=o},93397:(e,t,r)=>{r.d(t,{E:()=>m});var n=r(24631),a=r(85281),s=r(47131),o=r(20619),i=r(47313);const l=e=>e.replace(/\s+/g,""),c=e=>{let{tableRows:t,searchOverFields:r,setRows:n}=e;const[a,s]=(0,i.useState)(""),o=(0,i.useCallback)((e=>{s(e);const a=new RegExp(l(e).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i");const o=t.filter((e=>Object.keys(e).some((t=>{var n;if(!r||-1!==r.indexOf(t))return a.test(l(null===(n=e[t])||void 0===n?void 0:n.toString()))}))));n(e?o:t)}),[r,n,t]);return{value:a,onChange:e=>o(e.target.value),clearSearch:()=>{s(""),o("")}}};var d=r(1550),u=r(15743),h=r(46417);const p=e=>{let{icon:t,children:r}=e;return(0,h.jsx)(d.Z,{fullWidth:!0,children:(0,h.jsxs)(u.Z,{className:"adornment",position:"relative",children:[(0,h.jsx)(u.Z,{alignItems:"center",display:"flex",height:"100%",left:8,position:"absolute",right:0,width:"25px",zIndex:1e3,children:(0,h.jsx)(o.Z,{color:"text.primary",children:t})}),i.cloneElement(r,{adornment:"true"})]})})};function m(e){let{loading:t,label:r,searchPlaceholder:i,disabled:l,setRows:d,tableRows:u=[],searchOverFields:m=[],...x}=e;const{value:g,onChange:v,clearSearch:Z}=c({tableRows:u,searchOverFields:m,setRows:d});return(0,h.jsx)(p,{icon:"search",children:(0,h.jsx)(n.Z,{fullWidth:!0,label:r||"Search",onChange:v,...x,InputProps:{endAdornment:(0,h.jsxs)(h.Fragment,{children:[t?(0,h.jsx)(a.Z,{color:"inherit",size:20}):null,(0,h.jsx)(s.Z,{"aria-label":"Clear","data-testid":"search-clear-button",onClick:Z,size:"small",style:{visibility:g?"visible":"hidden"},title:"Clear",children:(0,h.jsx)(o.Z,{color:"text.primary",children:"close"})})]})},"data-testid":"search",disabled:l,placeholder:i,value:g})})}},96465:(e,t,r)=>{r.d(t,{Z:()=>l});var n=r(47313),a=r(61113),s=r(20619),o=r(68012),i=r(46417);const l=e=>{var t;let{status:r,label:l}=e;const c=(0,o.ul)(),d=(0,n.useMemo)((()=>({linked:"lightSuccess",link_pending:"lightWarning",link_expired:"lightError",active:"lightSuccess",pending:"lightInfo",deploying:"lightDisabled",connected:"lightSuccess",some_connected:"lightWarning",disconnected:"lightError",suspended:"lightDisabled",nosims:"lightInfo",erroractivating:"lightError"})),[]),u={active:{icon:"checked",color:"success"},deploying:{icon:"time",color:"text.primary"},pending:{icon:"information-user",color:"info"},erroractivating:{icon:"alert",color:"error.dark"}};return(0,i.jsx)(i.Fragment,{children:r?(0,i.jsxs)(a.Z,{color:d[r.toLowerCase()],"data-testid":"status-label",gap:1,variant:"label",children:[(null===(t=u[r.toLowerCase()])||void 0===t?void 0:t.icon)&&(0,i.jsx)(s.Z,{color:u[r.toLowerCase()].color,fontSize:"small",variant:"filled",children:u[r.toLowerCase()].icon}),l||c(r.toLowerCase())]}):(0,i.jsx)(a.Z,{children:c("empty")})})}},93419:(e,t,r)=>{r.d(t,{Z:()=>h});var n,a=r(30168),s=r(17592),o=r(19860),i=r(9506),l=r(61113),c=r(68012),d=r(46417);const u=(0,s.ZP)("select")(n||(n=(0,a.Z)(["\n  color: ",";\n  border: none;\n  background-color: ",";\n  border-radius: 2px;\n  width: 36px;\n  height: 28px;\n"])),(e=>{let{palette:t}=e;return t.text.primary}),(e=>{let{palette:t}=e;return t.background.secondaryContainer})),h=e=>{let{rowsPerPageOptions:t=[],onChange:r}=e;const{palette:n}=(0,o.Z)(),a=(0,c.Qn)();return(0,d.jsxs)(i.Z,{alignItems:"center",display:"flex",gap:1,children:[(0,d.jsx)(l.Z,{color:"text.primary",variant:"caption",children:a("rowsPerPage")}),(0,d.jsx)(u,{onChange:e=>r(parseInt(e.target.value)),palette:n,children:t.map(((e,t)=>(0,d.jsx)("option",{value:e,children:e},"row-per-page-".concat(t))))})]})}},21429:(e,t,r)=>{r.d(t,{Gi:()=>c,Hr:()=>o,cR:()=>d,fR:()=>l,pT:()=>s,zR:()=>i});const n="CRITICAL",a="WARNING",s="success",o="error",i={USER_PASS:"USER_PASS",MICROSOFT:"MICROSOFT"},l={WARNING:a,ERROR:n,OK:"OK"},c={PENDING:"PENDING",DEPLOYING:"DEPLOYING",ACTIVE:"ACTIVE",DRAFT:"DRAFT"},d={ALL_CONNECTED:"Connected",SOME_CONNECTED:"Some_Connected",ALL_DISCONNECTED:"Disconnected",ALL_SUSPENDED:"Suspended"}},61968:(e,t,r)=>{r.r(t),r.d(t,{default:()=>D});var n=r(47313),a=r(97594),s=r(58467),o=r(63984),i=r(9506),l=r(61113),c=r(16811),d=r(29104),u=r(59863),h=r(93397),p=r(19536),m=r(84488),x=r(21429),g=r(96465),v=r(59959),Z=r(59141),f=r(38719),b=r(68012),y=r(46417);const C=e=>{let{id:t,name:r,status:a,company_logo_url:s,user_count:o,reservation_count:c,onClick:d}=e;(0,b.lH)();const u=(0,n.useMemo)((()=>a===x.Gi.DEPLOYING),[a]),{color:h,paperButtonProps:C}=(0,Z.n)({isDisabled:u});return(0,y.jsx)(Z.X,{...C,"data-customerid":t,"data-testid":"customer-card",onClick:d,children:(0,y.jsxs)(i.Z,{alignItems:"center",display:"flex",justifyContent:"space-between",children:[(0,y.jsxs)(i.Z,{display:"flex",gap:2,children:[(0,y.jsx)(f.U,{defaultSrc:"user-account",src:s}),(0,y.jsxs)(i.Z,{alignItems:"center",display:"flex",gap:1,children:[(0,y.jsx)(l.Z,{color:h,"data-testid":"name",children:r}),(0,y.jsx)(g.Z,{status:"ACTIVE",variant:"label"})]})]}),(0,y.jsxs)(i.Z,{display:"flex",gap:2,height:24,children:[(0,y.jsx)(p.Z,{color:"gradient",orientation:"vertical"}),(0,y.jsx)(v.Z,{Skeleton:m.Z,isLoading:!1,skeletonProps:{width:80},children:(0,y.jsx)(l.Z,{"data-testid":"devices-count",variant:"body3",children:"".concat(c||0," reservations")})})]})]})})};var j=r(9019),S=r(77970),w=r(20619),k=r(93419);const P=e=>{let{translationKey:t="default",columns:r=1,"data-testid":a,rowsPerPage:s=5,rowsPerPageOptions:o=[5,10,15],paginateWith:c=5,children:d,isLoading:u,error:h,empty:p}=e;const m=(0,b.iV)(),[x,g]=(0,n.useState)(0),[Z,f]=(0,n.useState)(s);(0,n.useEffect)((()=>{g(0)}),[Z]);const C=(0,n.useMemo)((()=>n.Children.count(d)<c?n.Children.toArray(d):n.Children.toArray(d).slice(x*Z,x*Z+Z)),[d,x,c,Z]);return(0,y.jsx)(v.Z,{"data-testid":a,error:h,isLoading:u,translationKey:t,children:(0,y.jsx)(i.Z,{"data-testid":a,children:null!==C&&void 0!==C&&C.length?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(j.ZP,{container:!0,spacing:2,children:C.map(((e,t)=>(0,y.jsx)(j.ZP,{item:!0,md:12/r,xs:12,children:e},t)))}),(0,y.jsxs)(i.Z,{display:"flex",flexGrow:1,justifyContent:"end",mt:2,children:[!!o.length&&(0,y.jsx)(k.Z,{onChange:f,rowsPerPageOptions:o}),(0,y.jsx)(S.Z,{color:"primary",count:Math.ceil(n.Children.count(d)/Z),onChange:(e,t)=>{g(t-1)},page:x+1,showFirstButton:!0,showLastButton:!0})]})]}):(0,y.jsxs)(l.Z,{alignItems:"center",color:"text.primary","data-testid":"".concat(a,"-empty"),display:"flex",gap:1,children:[(0,y.jsx)(w.Z,{color:"info",fontSize:"large",children:"information-user"}),m("".concat(t,p?".empty":".noMatch"))]})})})};var I=r(67234),E=r(65053);const D=()=>{const e=(0,b.lH)(),t=(0,s.s0)(),{obId:r}=(0,a.v9)(u.jo),[p,m]=(0,n.useState)([]),[x,g]=(0,n.useState)(),{data:{count:v="-",results:Z}={},isLoading:f,error:j}=(0,c.rq)({params:{obId:r}}),{data:{results:S}={},error:w,isLoading:k}=(0,d.xY)({params:{ob_id:r}}),D=(0,n.useMemo)((()=>{const e=null===Z||void 0===Z?void 0:Z.map((e=>{return{...e,usersCount:(t=e.id,w||k?"-":null===S||void 0===S?void 0:S.filter((e=>{let{customer_id:r}=e;return t===r})).length)};var t}));return g(e),e}),[Z,k,g,S,w]);(0,n.useEffect)((()=>{m(x)}),[x]);const R=(0,n.useCallback)((e=>{const{customerid:r}=e.currentTarget.dataset;t(I.Z6.asCustomerHome.replace(":customerId",r))}),[t]);(0,n.useCallback)((()=>{t(I.Z6.operatorCustomerAdd)}),[t]);return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(E.Z,{title:e("headerTitle")}),(0,y.jsxs)(o.Z,{"data-testid":"operator-dashboard-page",spacing:3,children:[(0,y.jsxs)(i.Z,{alignItems:"center",display:"flex",justifyContent:"space-between",mb:2,width:"100%",children:[(0,y.jsx)(l.Z,{color:"text.primary","data-testid":"customers-count",variant:"h5",children:e("totalCustomers",{count:v})}),(0,y.jsx)(i.Z,{alignItems:"center",display:"flex",gap:2,children:(0,y.jsx)(i.Z,{sx:{width:"400px"},children:(0,y.jsx)(h.E,{disabled:f||!!j,label:e("searchLabel"),searchOverFields:["name","status"],setRows:g,tableRows:D,variant:"filled"})})})]}),(0,y.jsx)(P,{"data-testid":"customers-table",empty:!(null!==Z&&void 0!==Z&&Z.length),error:j,isLoading:f,translationKey:"customersTable",children:null===p||void 0===p?void 0:p.map((e=>(0,y.jsx)(C,{...e,onClick:R},"customer-card-".concat(e.id))))})]})]})}},85281:(e,t,r)=>{r.d(t,{Z:()=>N});var n=r(30168),a=r(63366),s=r(87462),o=r(47313),i=r(83061),l=r(21921),c=r(30686),d=r(91615),u=r(77342),h=r(17592),p=r(77430),m=r(32298);function x(e){return(0,m.Z)("MuiCircularProgress",e)}(0,p.Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var g,v,Z,f,b=r(46417);const y=["className","color","disableShrink","size","style","thickness","value","variant"];let C,j,S,w;const k=44,P=(0,c.F4)(C||(C=g||(g=(0,n.Z)(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),I=(0,c.F4)(j||(j=v||(v=(0,n.Z)(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"])))),E=(0,h.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t["color".concat((0,d.Z)(r.color))]]}})((e=>{let{ownerState:t,theme:r}=e;return(0,s.Z)({display:"inline-block"},"determinate"===t.variant&&{transition:r.transitions.create("transform")},"inherit"!==t.color&&{color:(r.vars||r).palette[t.color].main})}),(e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&(0,c.iv)(S||(S=Z||(Z=(0,n.Z)(["\n      animation: "," 1.4s linear infinite;\n    "]))),P)})),D=(0,h.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),R=(0,h.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.circle,t["circle".concat((0,d.Z)(r.variant))],r.disableShrink&&t.circleDisableShrink]}})((e=>{let{ownerState:t,theme:r}=e;return(0,s.Z)({stroke:"currentColor"},"determinate"===t.variant&&{transition:r.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink&&(0,c.iv)(w||(w=f||(f=(0,n.Z)(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]))),I)})),N=o.forwardRef((function(e,t){const r=(0,u.Z)({props:e,name:"MuiCircularProgress"}),{className:n,color:o="primary",disableShrink:c=!1,size:h=40,style:p,thickness:m=3.6,value:g=0,variant:v="indeterminate"}=r,Z=(0,a.Z)(r,y),f=(0,s.Z)({},r,{color:o,disableShrink:c,size:h,thickness:m,value:g,variant:v}),C=(e=>{const{classes:t,variant:r,color:n,disableShrink:a}=e,s={root:["root",r,"color".concat((0,d.Z)(n))],svg:["svg"],circle:["circle","circle".concat((0,d.Z)(r)),a&&"circleDisableShrink"]};return(0,l.Z)(s,x,t)})(f),j={},S={},w={};if("determinate"===v){const e=2*Math.PI*((k-m)/2);j.strokeDasharray=e.toFixed(3),w["aria-valuenow"]=Math.round(g),j.strokeDashoffset="".concat(((100-g)/100*e).toFixed(3),"px"),S.transform="rotate(-90deg)"}return(0,b.jsx)(E,(0,s.Z)({className:(0,i.Z)(C.root,n),style:(0,s.Z)({width:h,height:h},S,p),ownerState:f,ref:t,role:"progressbar"},w,Z,{children:(0,b.jsx)(D,{className:C.svg,ownerState:f,viewBox:"".concat(22," ").concat(22," ").concat(k," ").concat(k),children:(0,b.jsx)(R,{className:C.circle,style:j,ownerState:f,cx:k,cy:k,r:(k-m)/2,fill:"none",strokeWidth:m})})}))}))},15743:(e,t,r)=>{r.d(t,{Z:()=>n});const n=(0,r(14156).Z)()}}]);